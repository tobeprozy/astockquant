# qplot

qplotæ˜¯ä¸€ä¸ªåŸºäºqdataçš„æ•°æ®å¯è§†åŒ–æ’ä»¶ï¼Œç”¨äºç»˜åˆ¶è‚¡ç¥¨çš„æ—¥Kçº¿å›¾å’Œåˆ†æ—¶å›¾ï¼Œæ”¯æŒå®æ—¶æ•°æ®æ›´æ–°ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ˆ **æ—¥Kçº¿å›¾ç»˜åˆ¶**ï¼šæ”¯æŒå„ç§æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚å‡çº¿ï¼‰å’Œæˆäº¤é‡æ˜¾ç¤º
- â±ï¸ **åˆ†æ—¶å›¾ç»˜åˆ¶**ï¼šå±•ç¤ºè‚¡ç¥¨çš„æ—¥å†…èµ°åŠ¿å’Œå‡ä»·çº¿
- ğŸ”„ **å®æ—¶æ•°æ®æ›´æ–°**ï¼šé€šè¿‡åŒçº¿ç¨‹æœºåˆ¶å®ç°æ•°æ®çš„å®æ—¶è·å–å’Œå›¾è¡¨çš„åŠ¨æ€æ›´æ–°
- ğŸ“Š **è‡ªå®šä¹‰æ ·å¼**ï¼šæ”¯æŒè‡ªå®šä¹‰å›¾è¡¨æ ·å¼ã€é¢œè‰²å’Œå°ºå¯¸
- ğŸ’¾ **æ•°æ®ç¼“å­˜**ï¼šå†…ç½®æ•°æ®ç¼“å­˜æœºåˆ¶ï¼Œæé«˜æ•°æ®è®¿é—®æ•ˆç‡
- ğŸ“± **å¯å®‰è£…æ€§**ï¼šä½œä¸ºPythonåŒ…å¯é€šè¿‡pipå®‰è£…

## å®‰è£…

### ä»æºç å®‰è£…

```bash
# å…‹éš†ä»“åº“
cd d:/codespace/AstockQuant

# å®‰è£…qplotï¼ˆå¼€å‘æ¨¡å¼ï¼‰
cd qplot
pip install -e .
```

### ä¾èµ–é¡¹

qplotä¾èµ–äºä»¥ä¸‹Pythonåº“ï¼š
- pandas
- numpy
- matplotlib
- mplfinance
- qdataï¼ˆè¯·å…ˆå®‰è£…qdataæ’ä»¶ï¼‰

è¿™äº›ä¾èµ–ä¼šåœ¨å®‰è£…qplotæ—¶è‡ªåŠ¨å®‰è£…ã€‚

## å¿«é€Ÿå¼€å§‹

ä»¥ä¸‹æ˜¯ä½¿ç”¨qplotç»˜åˆ¶Kçº¿å›¾å’Œåˆ†æ—¶å›¾çš„ç®€å•ç¤ºä¾‹ï¼š

```python
import qplot
import qdata
from datetime import datetime, timedelta

# è·å–è‚¡ç¥¨æ•°æ®
stock_code = "600519"
end_date = datetime.now().strftime('%Y%m%d')
start_date = (datetime.now() - timedelta(days=180)).strftime('%Y%m%d')
df = qdata.get_daily_data(stock_code, start_date, end_date)

# ç»˜åˆ¶Kçº¿å›¾
qplot.plot_kline(
    df,
    title=f"{stock_code} æ—¥Kçº¿å›¾",
    style='charles',
    volume=True,
    indicators=['ma5', 'ma10', 'ma20']
)

# ç»˜åˆ¶åˆ†æ—¶å›¾
# æ³¨æ„ï¼šå®é™…ä½¿ç”¨æ—¶è¯·ç”¨çœŸå®çš„åˆ†æ—¶æ•°æ®æ›¿ä»£ç¤ºä¾‹æ•°æ®
sample_minute_data = qplot.examples.generate_sample_minute_data(stock_code)
qplot.plot_minute_chart(
    sample_minute_data,
    title=f"{stock_code} åˆ†æ—¶å›¾",
    line_color='blue',
    show_avg_line=True
)
```

## å®æ—¶æ•°æ®æ›´æ–°

qplotæ”¯æŒå®æ—¶æ›´æ–°Kçº¿å›¾å’Œåˆ†æ—¶å›¾ï¼Œé€šè¿‡åŒçº¿ç¨‹æœºåˆ¶å®ç°ï¼š

```python
import qplot

# åˆ›å»ºæ•°æ®ç®¡ç†å™¨
stock_code = "600519"
data_manager = qplot.DataManager(stock_code=stock_code, data_type='minute')

# ç”Ÿæˆåˆå§‹æ•°æ®ï¼ˆå®é™…åº”ç”¨ä¸­åº”ä½¿ç”¨çœŸå®æ•°æ®ï¼‰
initial_data = qplot.examples.generate_sample_minute_data(stock_code)
data_manager.update_data(initial_data)

# å¯åŠ¨å®æ—¶æ›´æ–°
# æ•°æ®æ›´æ–°çº¿ç¨‹ï¼ˆæ¯10ç§’æ›´æ–°ä¸€æ¬¡ï¼‰
data_manager.start_realtime_updates(interval=10)

# ç»˜åˆ¶å®æ—¶åˆ†æ—¶å›¾
qplot.plot_minute_chart_realtime(data_manager, update_interval=10)

# ä½¿ç”¨å®Œæ¯•ååœæ­¢æ›´æ–°
data_manager.stop_realtime_updates()
```

## ç¤ºä¾‹

qplotæä¾›äº†å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥åœ¨`examples`ç›®å½•ä¸‹æ‰¾åˆ°ï¼š

```bash
cd examples
python usage_example.py
```

ç¤ºä¾‹ä»£ç åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
1. ç»˜åˆ¶åŸºæœ¬çš„æ—¥Kçº¿å›¾
2. ç»˜åˆ¶åŸºæœ¬çš„åˆ†æ—¶å›¾
3. ç»˜åˆ¶å®æ—¶æ›´æ–°çš„æ—¥Kçº¿å›¾
4. ç»˜åˆ¶å®æ—¶æ›´æ–°çš„åˆ†æ—¶å›¾

## æ ¸å¿ƒæ¨¡å—è¯´æ˜

### 1. ç»˜å›¾å™¨ï¼ˆPlottersï¼‰

- **CandlestickPlotter**ï¼šæ—¥Kçº¿å›¾ç»˜å›¾å™¨ï¼Œæ”¯æŒå„ç§æŠ€æœ¯æŒ‡æ ‡
- **MinutePlotter**ï¼šåˆ†æ—¶å›¾ç»˜å›¾å™¨ï¼Œæ”¯æŒå®æ—¶æ›´æ–°

### 2. æ•°æ®ç®¡ç†ï¼ˆDataManagerï¼‰

- è´Ÿè´£ä»qdataè·å–æ•°æ®ã€ç¼“å­˜æ•°æ®ã€ç®¡ç†å®æ—¶æ•°æ®æ›´æ–°
- æ”¯æŒæ•°æ®åº“å­˜å‚¨ï¼ˆå¯é€‰ï¼‰

### 3. APIæ¥å£

- `plot_kline()`ï¼šç»˜åˆ¶æ—¥Kçº¿å›¾
- `plot_minute_chart()`ï¼šç»˜åˆ¶åˆ†æ—¶å›¾
- `plot_kline_realtime()`ï¼šç»˜åˆ¶å®æ—¶æ›´æ–°çš„æ—¥Kçº¿å›¾
- `plot_minute_chart_realtime()`ï¼šç»˜åˆ¶å®æ—¶æ›´æ–°çš„åˆ†æ—¶å›¾

## é…ç½®é€‰é¡¹

### ç»˜å›¾é…ç½®

- **æ ‡é¢˜**ï¼šè®¾ç½®å›¾è¡¨æ ‡é¢˜
- **æ ·å¼**ï¼šé€‰æ‹©å›¾è¡¨æ ·å¼ï¼ˆé€‚ç”¨äºKçº¿å›¾ï¼‰
- **é¢œè‰²**ï¼šè‡ªå®šä¹‰çº¿æ¡é¢œè‰²
- **å°ºå¯¸**ï¼šè®¾ç½®å›¾è¡¨å°ºå¯¸
- **æŠ€æœ¯æŒ‡æ ‡**ï¼šæ·»åŠ å‡çº¿ç­‰æŠ€æœ¯æŒ‡æ ‡ï¼ˆé€‚ç”¨äºKçº¿å›¾ï¼‰
- **æˆäº¤é‡**ï¼šæ˜¾ç¤º/éšè—æˆäº¤é‡ï¼ˆé€‚ç”¨äºKçº¿å›¾ï¼‰

### å®æ—¶æ›´æ–°é…ç½®

- **æ›´æ–°é—´éš”**ï¼šè®¾ç½®æ•°æ®æ›´æ–°å’Œå›¾è¡¨åˆ·æ–°çš„æ—¶é—´é—´éš”
- **æ•°æ®æº**ï¼šé€‰æ‹©æ•°æ®æ¥æº
- **æ•°æ®åº“å­˜å‚¨**ï¼šé…ç½®æ˜¯å¦ä½¿ç”¨æ•°æ®åº“å­˜å‚¨æ•°æ®

## æ³¨æ„äº‹é¡¹

1. ä½¿ç”¨å®æ—¶åŠŸèƒ½æ—¶ï¼Œè¯·ç¡®ä¿æœ‰å¯é çš„æ•°æ®æ¥æº
2. å®æ—¶æ•°æ®æ›´æ–°ä¼šå ç”¨è¾ƒå¤šç³»ç»Ÿèµ„æºï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´æ›´æ–°é—´éš”
3. æœ¬æ’ä»¶ä»…ç”¨äºæ•°æ®å¯è§†åŒ–ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®
4. ä½¿ç”¨å‰è¯·ç¡®ä¿å·²æ­£ç¡®å®‰è£…qdataæ’ä»¶

## è®¸å¯è¯

[MIT License](LICENSE)

## è´¡çŒ®

æ¬¢è¿æäº¤é—®é¢˜å’Œæ”¹è¿›å»ºè®®ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨GitHubä»“åº“ä¸­æäº¤issueã€‚